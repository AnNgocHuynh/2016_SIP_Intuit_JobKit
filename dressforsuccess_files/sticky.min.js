(function(d){var p={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},k=d(window),q=d(document),l=[],m=k.height(),g=function(){for(var a=k.scrollTop(),e=q.height(),r=e-d("#bottom_wrap").offset().top,c=e-m,c=a>c?c-a:0,g=0;g<l.length;g++){var b=l[g],f=b.stickyWrapper.offset().top-b.topSpacing-c,h=b.stickyElement.attr("id");a<=f?null!==b.currentTop&&(b.stickyElement.css("position","").css("top","").removeClass(h+"-container"),b.stickyElement.parent().removeClass(b.className),
b.currentTop=null):(f=e-b.stickyElement.outerHeight()-b.topSpacing-b.bottomSpacing-a-c-r-20,f=0>f?f+b.topSpacing:b.topSpacing,b.currentTop!=f&&(b.stickyElement.css("position","fixed").css("top",f).addClass(h+"-container"),"undefined"!==typeof b.getWidthFrom&&b.stickyElement.css("width",d(b.getWidthFrom).width()),b.stickyElement.parent().addClass(b.className),b.currentTop=f))}},n=function(){m=k.height()},h={init:function(a){var e=d.extend(p,a);return this.each(function(){var a=d(this),c=a.attr("id"),
c=d("<div></div>").attr("id",c+"-sticky-wrapper").addClass(e.wrapperClassName);a.wrapAll(c);e.center&&a.parent().css({width:a.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"==a.css("float")&&a.css({"float":"none"}).parent().css({"float":"right"});c=a.parent();c.css("height",a.outerHeight());l.push({topSpacing:e.topSpacing,bottomSpacing:e.bottomSpacing,stickyElement:a,currentTop:null,stickyWrapper:c,className:e.className,getWidthFrom:e.getWidthFrom})})},update:g};window.addEventListener?
(window.addEventListener("scroll",g,!1),window.addEventListener("resize",n,!1)):window.attachEvent&&(window.attachEvent("onscroll",g),window.attachEvent("onresize",n));d.fn.sticky=function(a){if(h[a])return h[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)d.error("Method "+a+" does not exist on jQuery.sticky");else return h.init.apply(this,arguments)};d(function(){setTimeout(g,0)})})(jQuery);
